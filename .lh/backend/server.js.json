{
    "sourceFile": "backend/server.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1738503934767,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1738503943623,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,8 +11,9 @@\n import appointmentRoute from \"./routes/AppointmentRoute.js\"\r\n \r\n import notificationRoute from \"./routes/notificationsRoute.js\"\r\n \r\n+import pai\r\n import { notFound, errorHandler } from \"./middleware/errorHandler.js\";\r\n const PORT = process.env.PORT || 8080;\r\n import { mongodbConnection } from \"./db/index.js\";\r\n import cors from \"cors\";\r\n"
                },
                {
                    "date": 1738503957184,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n import appointmentRoute from \"./routes/AppointmentRoute.js\"\r\n \r\n import notificationRoute from \"./routes/notificationsRoute.js\"\r\n \r\n-import pai\r\n+import patientRoute from \"./routes/\"\r\n import { notFound, errorHandler } from \"./middleware/errorHandler.js\";\r\n const PORT = process.env.PORT || 8080;\r\n import { mongodbConnection } from \"./db/index.js\";\r\n import cors from \"cors\";\r\n"
                },
                {
                    "date": 1738503964795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n import appointmentRoute from \"./routes/AppointmentRoute.js\"\r\n \r\n import notificationRoute from \"./routes/notificationsRoute.js\"\r\n \r\n-import patientRoute from \"./routes/\"\r\n+import patientRoute from \"./routes/patientRoute.js\"\r\n import { notFound, errorHandler } from \"./middleware/errorHandler.js\";\r\n const PORT = process.env.PORT || 8080;\r\n import { mongodbConnection } from \"./db/index.js\";\r\n import cors from \"cors\";\r\n@@ -57,9 +57,9 @@\n app.use(\"/api/appointments\",appointmentRoute)\r\n \r\n app.use(\"/api/notifications\",notificationRoute)\r\n \r\n-app.use(\"/api/patient\")\r\n+app.use(\"/api/patient\",patientRoute)\r\n \r\n app.use(notFound);\r\n \r\n app.use(errorHandler);\r\n"
                }
            ],
            "date": 1738503934767,
            "name": "Commit-0",
            "content": "import express from \"express\";\r\n\r\nimport dotenv from \"dotenv\";\r\n\r\nimport bodyParser from \"body-parser\";\r\n\r\nimport ProductRoute from \"./routes/productsRoute.js\";\r\n\r\nimport userRoute from \"./routes/userRoutes.js\";\r\n\r\nimport appointmentRoute from \"./routes/AppointmentRoute.js\"\r\n\r\nimport notificationRoute from \"./routes/notificationsRoute.js\"\r\n\r\nimport { notFound, errorHandler } from \"./middleware/errorHandler.js\";\r\nconst PORT = process.env.PORT || 8080;\r\nimport { mongodbConnection } from \"./db/index.js\";\r\nimport cors from \"cors\";\r\nimport http from \"http\";\r\nimport {Server} from \"socket.io\"\r\nimport { verifyUser } from \"./controllers/userController.js\";\r\n\r\n\r\ndotenv.config();\r\n\r\nexport const app = express();\r\n\r\n\r\n const SocketInitiator = async () => {\r\n    try {\r\n    \r\n      io.on(\"connection\", (socket) => {\r\n    \r\n  \r\n        socket.on(\"disconnect\", () => {});\r\n      });\r\n  \r\n    } catch (error) {\r\n      console.log(\"connection error to the socket\", error);\r\n    }\r\n  };\r\n\r\n\r\napp.use(bodyParser.json({ limit: \"1gb\" }));\r\n\r\napp.use(express.json({ limit: \"1gb\" }));\r\n\r\napp.use(express.urlencoded({extended:false}))\r\n\r\napp.use(cors());\r\n\r\napp.use(\"/api/products\", ProductRoute);\r\n\r\napp.use(\"/api/auth\", userRoute);\r\n\r\napp.use(\"/api/appointments\",appointmentRoute)\r\n\r\napp.use(\"/api/notifications\",notificationRoute)\r\n\r\napp.use(\"/api/patient\")\r\n\r\napp.use(notFound);\r\n\r\napp.use(errorHandler);\r\n\r\n\r\n\r\n\r\nconst server = http.createServer(app)\r\n\r\nexport const io = new Server(server,{\r\n    cors: {\r\n        origin: \"*\",\r\n        methods: [\"GET\", \"POST\"]\r\n    }\r\n})\r\n\r\n\r\n\r\n\r\nserver.listen(PORT,async () => {\r\n  mongodbConnection();\r\n \r\nawait SocketInitiator()\r\n\r\n  console.log(`the server is listening to port ${PORT}`);\r\n \r\n});\r\n\r\n\r\n"
        }
    ]
}
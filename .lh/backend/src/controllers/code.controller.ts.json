{
    "sourceFile": "backend/src/controllers/code.controller.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 8,
            "patches": [
                {
                    "date": 1741040116159,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741040218233,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,9 @@\n import { generateCode, role, signRole } from \"../utils/backevents\";\r\n import { createCode, findCode } from \"../services/code.service\";\r\n \r\n export const createCodeHandler = async (\r\n-  req: Request<{}, {}, codeSchemaInterface[\"body\"]>,\r\n+  req: Request<codeSchemaInterface[\"params\"], {}, codeSchemaInterface[\"body\"]>,\r\n   res: Response\r\n ) => {\r\n   try {\r\n \r\n"
                },
                {
                    "date": 1741040229687,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,10 @@\n   res: Response\r\n ) => {\r\n   try {\r\n \r\n+    const id  = req.params.id\r\n+\r\n     const numbers = [req.body.numbers]\r\n     const fiveNumbers = [req.body.fiveNumbers]\r\n     const characters = [req.body.characters]\r\n \r\n"
                },
                {
                    "date": 1741040241581,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,10 @@\n   try {\r\n \r\n     const id  = req.params.id\r\n \r\n+    const \r\n+\r\n     const numbers = [req.body.numbers]\r\n     const fiveNumbers = [req.body.fiveNumbers]\r\n     const characters = [req.body.characters]\r\n \r\n"
                },
                {
                    "date": 1741040247126,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n   try {\r\n \r\n     const id  = req.params.id\r\n \r\n-    const \r\n+    const AdminUser = \r\n \r\n     const numbers = [req.body.numbers]\r\n     const fiveNumbers = [req.body.fiveNumbers]\r\n     const characters = [req.body.characters]\r\n"
                },
                {
                    "date": 1741040252427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n   try {\r\n \r\n     const id  = req.params.id\r\n \r\n-    const AdminUser = \r\n+    const AdminUser = await fin\r\n \r\n     const numbers = [req.body.numbers]\r\n     const fiveNumbers = [req.body.fiveNumbers]\r\n     const characters = [req.body.characters]\r\n"
                },
                {
                    "date": 1741040257951,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n   try {\r\n \r\n     const id  = req.params.id\r\n \r\n-    const AdminUser = await fin\r\n+    const AdminUser = await findUser({_id:})\r\n \r\n     const numbers = [req.body.numbers]\r\n     const fiveNumbers = [req.body.fiveNumbers]\r\n     const characters = [req.body.characters]\r\n"
                },
                {
                    "date": 1741040265485,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,9 @@\n   try {\r\n \r\n     const id  = req.params.id\r\n \r\n-    const AdminUser = await findUser({_id:id,role:})\r\n+    const AdminUser = await findUser({_id:id,role:\"\"})\r\n \r\n     const numbers = [req.body.numbers]\r\n     const fiveNumbers = [req.body.fiveNumbers]\r\n     const characters = [req.body.characters]\r\n"
                },
                {
                    "date": 1741084904355,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,9 @@\n     const role = signRole(code)\r\n \r\n   \r\n     \r\n-    if(!newCode){\r\n+    if(!r){\r\n       res.status(400).json({message:\"Not Supported Yet\"})\r\n       return\r\n     }\r\n \r\n"
                }
            ],
            "date": 1741040116159,
            "name": "Commit-0",
            "content": "import { NextFunction, Request, Response } from \"express\";\r\nimport { codeSchemaInterface } from \"../schemas/code.schema\";\r\nimport { generateCode, role, signRole } from \"../utils/backevents\";\r\nimport { createCode, findCode } from \"../services/code.service\";\r\n\r\nexport const createCodeHandler = async (\r\n  req: Request<{}, {}, codeSchemaInterface[\"body\"]>,\r\n  res: Response\r\n) => {\r\n  try {\r\n\r\n    const numbers = [req.body.numbers]\r\n    const fiveNumbers = [req.body.fiveNumbers]\r\n    const characters = [req.body.characters]\r\n\r\n    const obj = {\r\n        numbers,\r\n        fiveNumbers,\r\n        characters\r\n    }\r\n    const code = generateCode({...obj})\r\n\r\n    const existingCode = await findCode({code})\r\n\r\n    if(existingCode){\r\n         res.status(409).json({ message: \"Code already exists\" });\r\n         return\r\n    }\r\n    const role = signRole(code)\r\n\r\n\r\n    const newCode = await createCode({role:role  ,code})\r\n\r\n    res.status(201).json({message:'code generated successfully',code:newCode})\r\n\r\n  } catch (error:any) {\r\n    res.status(500).json({message:error.message})\r\n  }\r\n};\r\n"
        }
    ]
}
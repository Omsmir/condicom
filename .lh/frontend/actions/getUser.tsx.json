{
    "sourceFile": "frontend/actions/getUser.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1739467559654,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1739985521121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,4 +1,6 @@\n+import { UserInformation } from \"@/types\";\r\n+\r\n export const getUser = async (userId: string | undefined) => {\r\n     try {\r\n       const response = await fetch(`http://localhost:8080/api/auth/${userId}`);\r\n   \r\n@@ -7,9 +9,9 @@\n       }\r\n   \r\n       const data = await response.json();\r\n   \r\n-      const user = (await data.existingUser) as UserInformation;\r\n+      const user = (await data.user) as UserInformation;\r\n   \r\n       return user;\r\n     } catch (error: any) {\r\n       console.log(error);\r\n"
                },
                {
                    "date": 1739985596178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,10 @@\n   \r\n       const data = await response.json();\r\n   \r\n       const user = (await data.user) as UserInformation;\r\n+\r\n+      console.l\r\n   \r\n       return user;\r\n     } catch (error: any) {\r\n       console.log(error);\r\n"
                },
                {
                    "date": 1739985609279,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -11,9 +11,8 @@\n       const data = await response.json();\r\n   \r\n       const user = (await data.user) as UserInformation;\r\n \r\n-      console.l\r\n   \r\n       return user;\r\n     } catch (error: any) {\r\n       console.log(error);\r\n"
                },
                {
                    "date": 1740328081445,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,5 +1,6 @@\n import { UserInformation } from \"@/types\";\r\n+import { getSession } from \"next-auth/react\";\r\n \r\n export const getUser = async (userId: string | undefined) => {\r\n     try {\r\n       const response = await fetch(`http://localhost:8080/api/auth/${userId}`);\r\n@@ -16,5 +17,21 @@\n       return user;\r\n     } catch (error: any) {\r\n       console.log(error);\r\n     }\r\n-  };\n\\ No newline at end of file\n+  };\r\n+\r\n+  const fetchWithAuth = async ({url,options}:{url:string,options?:{metho:\"get\"}}) => {\r\n+    const session = await getSession();\r\n+    let response = await fetch(url, {\r\n+      ...options,  \r\n+      headers: {\r\n+        Authorization: `Bearer ${session?.user.accessToken}`,\r\n+        'x-refresh': `${session?.user.refreshToken}`\r\n+      },\r\n+    });\r\n+  \r\n+   \r\n+  \r\n+    return response.json();\r\n+  };\r\n+  \n\\ No newline at end of file\n"
                }
            ],
            "date": 1739467559654,
            "name": "Commit-0",
            "content": "export const getUser = async (userId: string | undefined) => {\r\n    try {\r\n      const response = await fetch(`http://localhost:8080/api/auth/${userId}`);\r\n  \r\n      if (!response.ok) {\r\n        throw new Error(\"Failed To Get user Data\");\r\n      }\r\n  \r\n      const data = await response.json();\r\n  \r\n      const user = (await data.existingUser) as UserInformation;\r\n  \r\n      return user;\r\n    } catch (error: any) {\r\n      console.log(error);\r\n    }\r\n  };"
        }
    ]
}
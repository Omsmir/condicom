{
    "sourceFile": "frontend/components/settings/ReusebleForm.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 4,
            "patches": [
                {
                    "date": 1742949603318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1742949620205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,9 +9,9 @@\n import { useSession } from \"next-auth/react\";\r\n import { Button } from \"@/components/ui/button\";\r\n import { UseUpdateUser } from \"@/actions/mutation\";\r\n import { Divider } from \"antd\";\r\n-import AccountReusebleHeader from \"./Profile/ReusebleHeader\";\r\n+import AccountReusebleHeader\r\n import { cn } from \"@/lib/utils\";\r\n \r\n interface ReusebleFormDataProps {\r\n   children: React.ReactNode;\r\n"
                },
                {
                    "date": 1742949765923,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -9,16 +9,16 @@\n import { useSession } from \"next-auth/react\";\r\n import { Button } from \"@/components/ui/button\";\r\n import { UseUpdateUser } from \"@/actions/mutation\";\r\n import { Divider } from \"antd\";\r\n-import AccountReusebleHeader\r\n+import AccountReusebleHeader from \"./ReusebleHeader\";\r\n import { cn } from \"@/lib/utils\";\r\n \r\n interface ReusebleFormDataProps {\r\n   children: React.ReactNode;\r\n   innerText: string;\r\n   className?: string;\r\n-  editState:boolean;\r\n+  editState?:boolean;\r\n   setEditState: React.Dispatch<React.SetStateAction<boolean>>\r\n   setAnyState?: React.Dispatch<React.SetStateAction<boolean>>\r\n \r\n }\r\n"
                },
                {
                    "date": 1742949776335,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n   children: React.ReactNode;\r\n   innerText: string;\r\n   className?: string;\r\n   editState?:boolean;\r\n-  setEditState: React.Dispatch<React.SetStateAction<boolean>>\r\n+  setEditState?: React.Dispatch<React.SetStateAction<boolean>>\r\n   setAnyState?: React.Dispatch<React.SetStateAction<boolean>>\r\n \r\n }\r\n const ReusebleForm = ({\r\n@@ -36,9 +36,9 @@\n \r\n   const updateUser = UseUpdateUser(api, session?.user.id);\r\n \r\n   const handleEdit = () => {\r\n-    setEditState(false);\r\n+   \r\n   };\r\n \r\n   const onSubmit = (values: z.infer<typeof AccountSchema>) => {\r\n     const formData = new FormData();\r\n"
                },
                {
                    "date": 1742949783588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -36,9 +36,11 @@\n \r\n   const updateUser = UseUpdateUser(api, session?.user.id);\r\n \r\n   const handleEdit = () => {\r\n-   \r\n+   if(setEditState){\r\n+    setEditState(false);\r\n+   }\r\n   };\r\n \r\n   const onSubmit = (values: z.infer<typeof AccountSchema>) => {\r\n     const formData = new FormData();\r\n"
                }
            ],
            "date": 1742949603318,
            "name": "Commit-0",
            "content": "\"use client\";\r\nimport React from \"react\";\r\nimport { z } from \"zod\";\r\nimport { Form } from \"@/components/ui/form\";\r\nimport SubmitButton from \"../togglers/SubmitButton\";\r\nimport { AccountSchema } from \"@/lib/vaildation\";\r\nimport { DashboardHook } from \"../context/Dashboardprovider\";\r\nimport { AccountHook } from \"@/components/context/AccountProvider\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { UseUpdateUser } from \"@/actions/mutation\";\r\nimport { Divider } from \"antd\";\r\nimport AccountReusebleHeader from \"./Profile/ReusebleHeader\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface ReusebleFormDataProps {\r\n  children: React.ReactNode;\r\n  innerText: string;\r\n  className?: string;\r\n  editState:boolean;\r\n  setEditState: React.Dispatch<React.SetStateAction<boolean>>\r\n  setAnyState?: React.Dispatch<React.SetStateAction<boolean>>\r\n\r\n}\r\nconst ReusebleForm = ({\r\n  children,\r\n  innerText,\r\n  className,\r\n  editState,\r\n  setEditState,\r\n  setAnyState\r\n}: ReusebleFormDataProps) => {\r\n  const {  isLoading, form } = AccountHook();\r\n  const { api } = DashboardHook();\r\n  const { data: session } = useSession();\r\n\r\n  const updateUser = UseUpdateUser(api, session?.user.id);\r\n\r\n  const handleEdit = () => {\r\n    setEditState(false);\r\n  };\r\n\r\n  const onSubmit = (values: z.infer<typeof AccountSchema>) => {\r\n    const formData = new FormData();\r\n\r\n    const data = {\r\n      name: values.name,\r\n      occupation: values.occupation,\r\n      gender:values.gender,\r\n      weight:values.weight,\r\n      height:values.height\r\n    };\r\n\r\n    Object.entries(data).forEach(([key, value]) => {\r\n      if (value !== undefined && value !== null && value !== \"\") {\r\n        formData.append(key, value as string);\r\n      }\r\n    });\r\n    try {\r\n      updateUser.mutate(formData);\r\n    } catch (error: any) {\r\n      console.log(`error from Account profile: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex flex-col justify-center items-start col-span-12 bg-[var(--sidebar-background)] rounded-md shadow-md shadow-slate-300 dark:shadow-slate-800\",\r\n        className\r\n      )}\r\n    >\r\n      <AccountReusebleHeader showMenu innerText={innerText} editState={editState} setEditState={setEditState} setAnyState={setAnyState} />\r\n      <Divider className=\" dark:bg-slate-500 m-0 w-full\" />\r\n\r\n      <Form {...form}>\r\n        <form\r\n          onSubmit={form.handleSubmit(onSubmit)}\r\n          className=\"flex flex-col p-8 pb-10 pt-0 w-full \"\r\n        >\r\n          <div className=\"grid grid-cols-12\">{children}</div>\r\n          {editState && (\r\n            <div className=\"flex justify-end items-center w-full \">\r\n              <Button\r\n                className=\"bg-slate-100 max-h-[25px] mx-2\"\r\n                onClick={handleEdit}\r\n              >\r\n                cancel\r\n              </Button>\r\n              <SubmitButton\r\n                className=\"bg-slate-800 text-slate-50 max-h-[25px]\"\r\n                isLoading={isLoading}\r\n                innerText=\" \" // importtant\r\n              >\r\n                change\r\n              </SubmitButton>\r\n            </div>\r\n          )}\r\n        </form>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReusebleForm;\r\n"
        }
    ]
}
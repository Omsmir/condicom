{
    "sourceFile": "frontend/components/settings/Profile/AccountInfoHolder.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1741009497911,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1741009503869,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,8 +92,9 @@\n           </div>\r\n         )}\r\n       </form>\r\n     </Form>\r\n+    \r\n   );\r\n };\r\n \r\n export default AccountInfoHolder;\r\n"
                },
                {
                    "date": 1741009514148,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,9 @@\n           </div>\r\n         )}\r\n       </form>\r\n     </Form>\r\n-    \r\n+    </div>\r\n   );\r\n };\r\n \r\n export default AccountInfoHolder;\r\n"
                },
                {
                    "date": 1741009521624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,8 +12,10 @@\n import AccountInfo from \"./AccountInfo\";\r\n import { useSession } from \"next-auth/react\";\r\n import { Button } from \"@/components/ui/button\";\r\n import { UseUpdateUser } from \"@/actions/mutation\";\r\n+import AccountHeader from \"./AccountHeader\";\r\n+import { Divider } from \"antd\";\r\n \r\n interface AccountInfoHolderDataProps {\r\n   user: UserInformation | undefined;\r\n   isFetching: boolean;\r\n"
                },
                {
                    "date": 1741009553880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,38 +64,38 @@\n   });\r\n \r\n   return (\r\n     <div className=\"flex flex-col justify-center items-start col-span-12 bg-[var(--sidebar-background)] rounded-md shadow-md shadow-slate-300 dark:shadow-slate-800\">\r\n-        <AccountHeader />\r\n-        <Divider className=\" dark:bg-slate-500 m-0 w-full\" />\r\n-         \r\n-    <Form {...form}>\r\n-      <form\r\n-        onSubmit={form.handleSubmit(onSubmit)}\r\n-        className=\"flex flex-col p-8 pb-10 pt-0 w-full \"\r\n-      >\r\n-        <div className=\"grid grid-cols-12\">\r\n-          <AccountInfo form={form} isFetching={isFetching} user={user} />\r\n-        </div>\r\n-        {ProfileEdit && (\r\n-          <div className=\"flex justify-end items-center w-full \">\r\n-            <Button\r\n-              className=\"bg-slate-100 max-h-[25px] mx-2\"\r\n-              onClick={handleEdit}\r\n-            >\r\n-              cancel\r\n-            </Button>\r\n-            <SubmitButton\r\n-              className=\"bg-slate-800 text-slate-50 max-h-[25px]\"\r\n-              isLoading={isLoading}\r\n-              innerText=\" \" // importtant\r\n-            >\r\n-              change\r\n-            </SubmitButton>\r\n+      <AccountHeader />\r\n+      <Divider className=\" dark:bg-slate-500 m-0 w-full\" />\r\n+\r\n+      <Form {...form}>\r\n+        <form\r\n+          onSubmit={form.handleSubmit(onSubmit)}\r\n+          className=\"flex flex-col p-8 pb-10 pt-0 w-full \"\r\n+        >\r\n+          <div className=\"grid grid-cols-12\">\r\n+            <AccountInfo form={form} isFetching={isFetching} user={user} />\r\n           </div>\r\n-        )}\r\n-      </form>\r\n-    </Form>\r\n+          {ProfileEdit && (\r\n+            <div className=\"flex justify-end items-center w-full \">\r\n+              <Button\r\n+                className=\"bg-slate-100 max-h-[25px] mx-2\"\r\n+                onClick={handleEdit}\r\n+              >\r\n+                cancel\r\n+              </Button>\r\n+              <SubmitButton\r\n+                className=\"bg-slate-800 text-slate-50 max-h-[25px]\"\r\n+                isLoading={isLoading}\r\n+                innerText=\" \" // importtant\r\n+              >\r\n+                change\r\n+              </SubmitButton>\r\n+            </div>\r\n+          )}\r\n+        </form>\r\n+      </Form>\r\n     </div>\r\n   );\r\n };\r\n \r\n"
                },
                {
                    "date": 1741009762408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,9 +64,9 @@\n   });\r\n \r\n   return (\r\n     <div className=\"flex flex-col justify-center items-start col-span-12 bg-[var(--sidebar-background)] rounded-md shadow-md shadow-slate-300 dark:shadow-slate-800\">\r\n-      <AccountHeader />\r\n+      <Accountres />\r\n       <Divider className=\" dark:bg-slate-500 m-0 w-full\" />\r\n \r\n       <Form {...form}>\r\n         <form\r\n"
                },
                {
                    "date": 1741009769311,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -65,9 +65,9 @@\n   });\r\n \r\n   return (\r\n     <div className=\"flex flex-col justify-center items-start col-span-12 bg-[var(--sidebar-background)] rounded-md shadow-md shadow-slate-300 dark:shadow-slate-800\">\r\n-      <AccountReusebleHeader showMenu innerText=\"\" />\r\n+      <AccountReusebleHeader showMenu innerText=\"A\" />\r\n       <Divider className=\" dark:bg-slate-500 m-0 w-full\" />\r\n \r\n       <Form {...form}>\r\n         <form\r\n"
                },
                {
                    "date": 1741030806769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n interface AccountInfoHolderDataProps {\r\n   user: UserInformation | undefined;\r\n   isFetching: boolean;\r\n   children:React.ReactNode;\r\n-  inn\r\n+  inner\r\n }\r\n const AccountInfoHolder = ({\r\n   user,\r\n   isFetching,\r\n"
                }
            ],
            "date": 1741009497911,
            "name": "Commit-0",
            "content": "\"use client\";\r\nimport React from \"react\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { z } from \"zod\";\r\nimport { Form } from \"@/components/ui/form\";\r\nimport SubmitButton from \"../../togglers/SubmitButton\";\r\nimport { AccountSchema } from \"@/lib/vaildation\";\r\nimport { DashboardHook } from \"../../context/Dashboardprovider\";\r\nimport { AccountHook } from \"@/components/context/AccountProvider\";\r\nimport { UserInformation } from \"@/types\";\r\nimport AccountInfo from \"./AccountInfo\";\r\nimport { useSession } from \"next-auth/react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { UseUpdateUser } from \"@/actions/mutation\";\r\n\r\ninterface AccountInfoHolderDataProps {\r\n  user: UserInformation | undefined;\r\n  isFetching: boolean;\r\n}\r\nconst AccountInfoHolder = ({\r\n  user,\r\n  isFetching,\r\n}: AccountInfoHolderDataProps) => {\r\n  const { ProfileEdit, setProfileEdit, isLoading } = AccountHook();\r\n  const { api } = DashboardHook();\r\n  const { data: session } = useSession();\r\n\r\n  const updateUser = UseUpdateUser(api, user?._id);\r\n\r\n  const handleEdit = () => {\r\n    setProfileEdit(false);\r\n  };\r\n\r\n  const onSubmit = (values: z.infer<typeof AccountSchema>) => {\r\n    const formData = new FormData();\r\n\r\n    const data = {\r\n      name: values.name,\r\n      occupation: values.occupation,\r\n    };\r\n\r\n    Object.entries(data).forEach(([key, value]) => {\r\n      if (value !== undefined && value !== null && value !== \"\") {\r\n        formData.append(key, value as string);\r\n      }\r\n    });\r\n    try {\r\n      console.log(formData);\r\n      updateUser.mutate(formData);\r\n    } catch (error: any) {\r\n      console.log(`error from Account profile: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const form = useForm<z.infer<typeof AccountSchema>>({\r\n    resolver: zodResolver(AccountSchema),\r\n    defaultValues: {\r\n      name: session?.user.name as string,\r\n      occupation: user?.occupation,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div className=\"flex flex-col justify-center items-start col-span-12 bg-[var(--sidebar-background)] rounded-md shadow-md shadow-slate-300 dark:shadow-slate-800\">\r\n        <AccountHeader />\r\n        <Divider className=\" dark:bg-slate-500 m-0 w-full\" />\r\n         \r\n    <Form {...form}>\r\n      <form\r\n        onSubmit={form.handleSubmit(onSubmit)}\r\n        className=\"flex flex-col p-8 pb-10 pt-0 w-full \"\r\n      >\r\n        <div className=\"grid grid-cols-12\">\r\n          <AccountInfo form={form} isFetching={isFetching} user={user} />\r\n        </div>\r\n        {ProfileEdit && (\r\n          <div className=\"flex justify-end items-center w-full \">\r\n            <Button\r\n              className=\"bg-slate-100 max-h-[25px] mx-2\"\r\n              onClick={handleEdit}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <SubmitButton\r\n              className=\"bg-slate-800 text-slate-50 max-h-[25px]\"\r\n              isLoading={isLoading}\r\n              innerText=\" \" // importtant\r\n            >\r\n              change\r\n            </SubmitButton>\r\n          </div>\r\n        )}\r\n      </form>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default AccountInfoHolder;\r\n"
        }
    ]
}